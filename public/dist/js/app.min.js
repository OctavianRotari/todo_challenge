var app=angular.module("app",["ngRoute","ngResource"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/partials/todos.html",controller:"TodoController"})}]),app.controller("TodoController",["$scope","Todos",function(a,b){a.newTodo={todo:null,note:null},a.editing=[],a.todos=b.query(),a.save=function(){if(a.newTodo&&!(a.newTodo.length<1)){var c=new b({name:a.newTodo.todo,completed:!1,note:a.newTodo.note});c.$save(function(){a.todos.push(c),a.newTodo={todo:null,note:null}})}},a.edit=function(b){a.editing[b]=angular.copy(a.todos[b])},a.update=function(c){var d=a.todos[c];b.update({id:d._id},d),a.editing[c]=!1},a.cancel=function(b){a.todos[b]=angular.copy(a.editing[b]),a.editing[b]=!1},a["delete"]=function(c){var d=a.todos[c];b.remove({id:d._id},d),a.todos.splice(c,1)}}]),app.factory("Todos",["$resource",function(a){return a("/todos/:id",null,{update:{method:"PUT"}})}]);